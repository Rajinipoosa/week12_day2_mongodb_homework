{"version":3,"sources":["webpack:///webpack/bootstrap 0720fa75ff5967e30306","webpack:///./src/app.js","webpack:///./src/views/ui.js","webpack:///./src/models/books.js","webpack:///./src/models/book.js","webpack:///./src/models/review.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACNA;;AAEA;AACA;AACA;AACA,yB;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,4BAA2B;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qC;;AAEA;AACA;AACA,iBAAgB;AAChB,eAAc;;AAEd;AACA;AACA;AACA;;;AAGA;;;;;;;AC1FA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAM;AACN;AACA,GAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,EAAC;AACD;AACA;AACA;AACA,IAAG;AACH;;AAEA,EAAC;AACD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;ACzDA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0720fa75ff5967e30306\n **/","var UI = require('./views/ui');\n\nvar app = function() {\n  new UI();\n}\n\nwindow.addEventListener('load', app);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.js\n ** module id = 0\n ** module chunks = 0\n **/","var Books = require('../models/books');\n\nvar UI = function() {\n  var books = new Books();\n  books.all(function(books){\n     this.render(books);  \n    }.bind(this));\n\n    this.createForm();\n\n  }\n\nUI.prototype = {\n  createText: function(text, label) {\n    var p = document.createElement('p');\n    p.innerText = label + text;\n    return p;\n  },\n\n  appendText: function(element, text, label) {\n    var pTag = this.createText(text, label);\n    element.appendChild(pTag);\n  },\n\n  createReview: function(li, review) {\n    this.appendText(li, review.comment, 'Comment: ');\n    this.appendText(li, review.rating, 'Rating: ');\n    \n  },\n\n  render: function(books) {\n    var container = document.getElementById('books');\n       container.innerHTML = \"\";\n    for (var book of books) {\n      var li = document.createElement('li');\n      this.appendText(li, book.title, 'Book: ');\n      this.appendText(li, book.author, 'Author: ');\n      \n      for (var review of book.reviews){\n        this.createReview(li, review);\n      }\n\n      container.appendChild(li);\n    }\n  },\n    createForm: function(){  //ADDED\n          //create the form and a div\n          var div = document.createElement('div');\n          var form = document.createElement('form');\n          var body = document.querySelector('body');\n        \n          //append input boxes to the form\n          var titleInput = document.createElement('input');\n          titleInput.setAttribute(\"name\", \"title\");\n          form.appendChild(titleInput);\n        \n          \n        \n          var authorsInput = document.createElement('input');\n          authorsInput.setAttribute(\"name\", \"authors\");\n          form.appendChild(authorsInput);\n        \n          //append a button to submit the form\n          var button = document.createElement('button');\n          button.type = 'submit';\n          button.innerText = 'Add Book';\n          form.appendChild(button);\n        \n          //add event handler to the onSubmit event of the form\n          form.onsubmit = function(e){\n            e.preventDefault();\n            var newBook = {\n              title: e.target.title.value,\n              \n              authors: e.target.authors.value.split(',')\n            }\n        \n            var books = new Books(); \n\n             books.add(newBook, function(data){\n                 this.render(data);\n               }.bind(this));\n             }.bind(this)\n        \n          div.appendChild(form);\n          body.insertBefore( div, body.firstChild );\n        }\n  }\n\n\nmodule.exports = UI;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/ui.js\n ** module id = 1\n ** module chunks = 0\n **/","var Book = require('./book');\nvar Review = require('./review');\n\nvar Books = function() {\n\n  \n}\nBooks.prototype= {\n  makeRequest: function(url, callback){\n   var request = new XMLHttpRequest();\n   request.open('GET',url);\n   request.addEventListener(\"load\",function (){\n      if(request.status !== 200) return;\n      var jsonString = request.responseText;\n      var resultsObject = JSON.parse(jsonString);\n      callback(resultsObject);\n   });\n   request.send();\n },\n makePostRequest: function(url, callback, payload){\n     var request = new XMLHttpRequest();\n     request.open('POST',url);\n     request.setRequestHeader('Content-Type', 'application/json');\n     request.addEventListener('load',function(){\n       if(request.status !== 200) return;\n      var jsonString = request.responseText;\n      var resultsObject = JSON.parse(jsonString);\n      callback(resultsObject);\n\n     })\n       request.send(payload);\n },\nall: function(callback){\n\n  this.makeRequest('http://localhost:3000/api/books',\n     \n    function(results){\n    console.log(results);\n    var books = this.populateBooks(results);\n    callback(results);\n  }.bind(this));\n},\npopulateBooks: function(results){\n  var books = results.map(function(resultObject){\n    return new Book(resultObject)\n  })\n   return books;\n\n},\nadd: function(newBook,callback){\n  var bookData = JSON.stringify(newBook);\n  console.log(bookData);\n  this.makePostRequest('http://localhost:3000/api/books',callback,bookData);\n  \n}\n\n};\nmodule.exports = Books;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/books.js\n ** module id = 2\n ** module chunks = 0\n **/","var Book = function(options) {\n  this.title = options.title;\n  this.authors = options.authors;\n  this.reviews = options.reviews || [];\n  \n}\n\nBook.prototype = {\n  addReview: function(review) {\n    this.reviews.push(review);\n  }\n}\n\nmodule.exports = Book;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/book.js\n ** module id = 3\n ** module chunks = 0\n **/","var Review = function(options) {\n  this.comment = options.comment;\n  this.rating = options.rating;\n  this.author = options.author;\n}\n\nmodule.exports = Review;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/review.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}